<ng-container *ngTemplateOutlet="notFound ? userNotFound : user ? userInfo : loading"></ng-container>
<ng-template #userInfo>
  <div class="info">
    <div class="carousel__wrapper">
      <div class="status">
        <span [ngClass]="{'online': user?.isOnline}">{{user?.isOnline ?
          'Online' :
          'Was: ' + (user?.lastLoginTime ? (user?.lastLoginTime | date:'medium') : 'false')}}</span>
      </div>
      <div class="btn__block">
        <div class="btn"><i class="fas fa-star"></i> Favorite</div>
        <div class="btn" (click)="startChat()"><i class="far fa-comments"></i> Chat</div>
      </div>
      <swiper [index] ="user?.photo?.profilePhoto">
        <div *ngFor="let path of user?.photo?.paths">
          <img [src]="path" alt="photo">
        </div>
      </swiper>
    </div>
    <mat-list role="list">
      <mat-list-item role="listitem">
        Name: {{user?.name?.firstName}} {{user?.name?.lastName}}
      </mat-list-item>
      <mat-chip-list>
        <mat-chip *ngFor="let tag of user?.tag">
          {{tag}}
        </mat-chip>
      </mat-chip-list>
      <mat-list-item role="listitem">
        Rating: {{user?.fameRating | json}}
      </mat-list-item>
      <mat-list-item role="listitem" [title]="'Birth day: ' + (user?.birthDay | date:'longDate')" *ngIf="user?.age">
        Age: {{user?.age}}
      </mat-list-item>
      <mat-list-item role="listitem" [title]="'Gender:'" *ngIf="user?.gender">
        Gender: {{user?.gender}}
      </mat-list-item>
    </mat-list>
  </div>
  <mat-accordion multi>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          About Me
        </mat-panel-title>
      </mat-expansion-panel-header>
      <p>{{ user?.aboutMe }}</p>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Find Me
        </mat-panel-title>
        <mat-panel-description>
          Location
        </mat-panel-description>
      </mat-expansion-panel-header>
      <app-map [markers]="[[user!.coordinates!.latitude, user!.coordinates!.longitude]]"> </app-map>
    </mat-expansion-panel>
  </mat-accordion>
  <pre> {{user | json }}</pre>
</ng-template>
<ng-template #loading><mat-spinner></mat-spinner></ng-template>
<ng-template #userNotFound><app-not-found></app-not-found></ng-template>

